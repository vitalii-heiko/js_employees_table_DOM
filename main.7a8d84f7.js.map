{"version":3,"sources":["scripts/main.js"],"names":["index","tbodyChildren","thead","document","querySelector","tbody","addEventListener","et","target","cellIndex","append","reverse","children","sort","a","b","elemA","cells","textContent","replace","elemB","isNaN","localeCompare","rows","classList","remove","parentNode","className","body","insertAdjacentHTML","pushNotification","posTop","posRight","title","description","type","div","createElement","style","innerHTML","setAttribute","setTimeout","button","form","validateForm","elements","value","length","addEmployee","parseInt","toLocaleString","map","el","preventDefault","text","tdInput","tdSelect","td","cloneNode","e","code"],"mappings":"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","file":"main.7a8d84f7.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nlet index;\nlet tbodyChildren;\n\n// table sorting by clicking on the title\n\nthead.addEventListener('click', (et) => {\n  if (!et.target) {\n    return;\n  }\n\n  if (index === et.target.cellIndex) {\n    return tbody.append(...tbodyChildren.reverse());\n  } else {\n    index = et.target.cellIndex;\n\n    tbodyChildren = [...tbody.children].sort((a, b) => {\n      const elemA = a.cells[index].textContent.replace(/[$,]/g, '');\n      const elemB = b.cells[index].textContent.replace(/[$,]/g, '');\n\n      return isNaN(elemA)\n        ? elemA.localeCompare(elemB)\n        : elemA - elemB;\n    });\n  }\n  tbody.append(...tbodyChildren);\n});\n\n// user clicks on a row, it should become selected\n\ntbody.addEventListener('click', (et) => {\n  for (const row of [...tbody.rows]) {\n    row.classList.remove('active');\n  }\n\n  et.target.parentNode.className = 'active';\n});\n\n// add a form\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class=\"new-employee-form\">\n    <label>\n      Name: \n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n    </label>\n\n    <label>\n      Position: \n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n\n    <label>\n      Office: \n      <select name=\"office\" type=\"text\" data-qa=\"office\">\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>\n      Age: \n      <input name=\"age\" type=\"number\" data-qa=\"age\">\n    </label>\n\n    <label>\n      Salary: \n      <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n    </label>\n\n    <button>Save to table</button>\n  </form>\n`);\n\n// notification\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n\n  div.className = `notification ${type}`;\n\n  div.style = `\n    position: absolute;\n    top: ${posTop}px; \n    right: ${posRight}px\n  `;\n\n  div.innerHTML = `\n    <h2 class='title'>${title}</h2>\n    <p>${description}</p>\n  `;\n\n  div.setAttribute('data-qa', 'notification');\n\n  document.body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n};\n\npushNotification(10, 10, 'Warning',\n  'All fields are required.', 'warning');\n\n// click on Save to table\n\nconst button = document.querySelector('button');\nconst form = document.querySelector('.new-employee-form');\n\nbutton.addEventListener('click', (et) => {\n  et.preventDefault();\n  validateForm();\n});\n\nfunction validateForm() {\n  if (form.elements[0].value.length < 4) {\n    return pushNotification(10, 310, 'Error',\n      'Fill in the field min 4 letter.', 'error');\n  }\n\n  if (form.elements[1].value.length <= 0\n    || form.elements[3].value.length <= 0\n    || form.elements[4].value.length <= 0) {\n    return pushNotification(10, 310, 'Error',\n      'All fields are required.', 'error');\n  }\n\n  if (form.elements[3].value < 18 || form.elements[3].value > 90) {\n    return pushNotification(10, 310, 'Error',\n      'Age value is less than 18 or more than 90.', 'error');\n  }\n\n  addEmployee();\n};\n\nfunction addEmployee() {\n  tbody.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${form.elements[0].value}</td>\n      <td>${form.elements[1].value}</td>\n      <td>${form.elements[2].value}</td>\n      <td>${form.elements[3].value}</td>\n      <td>\n        $${parseInt(form.children[4].children[0].value).toLocaleString('en-US')}\n      </td>\n    </tr>\n  `);\n\n  pushNotification(10, 10, 'Success',\n    'A new employee added to the table.', 'success');\n\n  [...form.elements].map(el => {\n    el.value = '';\n  });\n};\n\n// double-clicking\n\nlet text = '';\n\ntbody.addEventListener('dblclick', (et) => {\n  const tdInput = document.createElement('input');\n  let tdSelect = document.createElement('select');\n  const td = et.target;\n\n  tdSelect = document.querySelector('select').cloneNode(true);\n  text = td.textContent;\n\n  tdInput.className = 'cell-input';\n  tdInput.value = '';\n  td.innerHTML = '';\n  td.append(tdInput);\n\n  if (td.cellIndex === 3 || td.cellIndex === 4) {\n    tdInput.type = 'number';\n  }\n\n  if (td.cellIndex === 2) {\n    td.innerHTML = '';\n    td.append(tdSelect);\n  }\n\n  tdSelect.addEventListener('blur', () => {\n    td.innerHTML = tdSelect.value;\n  });\n\n  tdSelect.addEventListener('keydown', (e) => {\n    if (e.code !== 'Enter') {\n      return;\n    }\n    td.innerHTML = tdSelect.value;\n  });\n\n  tdInput.addEventListener('blur', () => {\n    td.innerHTML = tdInput.value;\n\n    if (td.textContent.length === 0) {\n      td.innerHTML = text;\n    }\n  });\n\n  tdInput.addEventListener('keydown', (e) => {\n    if (e.code !== 'Enter') {\n      return;\n    }\n    td.innerHTML = tdInput.value;\n\n    if (td.textContent.length === 0) {\n      td.innerHTML = text;\n    }\n  });\n});\n"]}